import{x as b,e as g,c as v,o as V,b as s,a,u as o,f as m,v as x,h as S,i as w,w as p,d as f,S as U,t as h,n as k,j as B}from"./app-B-v3dGX0.js";import{_ as n,a as i,b as c}from"./TextInput-BCiOBFgQ.js";import{P as T}from"./PrimaryButton-DeN2JkVD.js";const q={class:"space-y-4"},P={class:"flex items-center justify-end pt-4 border-t border-gray-200"},M={__name:"AccountForm",props:{account:{type:Object,default:null},submitRoute:{type:String,required:!0},cancelRoute:{type:String,required:!0},submitButtonText:{type:String,default:"Сохранить"}},setup(u){const l=u,e=b({name:"",type:"card",currency:"RUB",balance:"0.00",color:"#cccccc",_method:"POST"});g(()=>{l.account&&(e.name=l.account.name,e.type=l.account.type,e.currency=l.account.currency,e.balance=l.account.balance,e.color=l.account.color||"#cccccc",e._method="PUT")});const y=()=>{const d=l.submitRoute,t=l.account?{account:l.account.id}:{};e._method==="PUT"?e.put(route(d,t),{preserveScroll:!0}):e.post(route(d,t),{preserveScroll:!0})};return(d,t)=>(V(),v("form",{onSubmit:B(y,["prevent"])},[s("div",q,[s("div",null,[a(n,{for:"name",value:"Название счета"}),a(i,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(e).name,"onUpdate:modelValue":t[0]||(t[0]=r=>o(e).name=r),required:"",autofocus:"",placeholder:"Напр., Карта Visa Сбербанк"},null,8,["modelValue"]),a(c,{class:"mt-2",message:o(e).errors.name},null,8,["message"])]),s("div",null,[a(n,{for:"type",value:"Тип счета"}),m(s("select",{id:"type",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":t[1]||(t[1]=r=>o(e).type=r),required:""},t[5]||(t[5]=[S('<option value="card">Карта</option><option value="bank_account">Банковский счет</option><option value="cash">Наличные</option><option value="savings">Вклад / Накопления</option><option value="other">Другое</option>',5)]),512),[[x,o(e).type]]),a(c,{class:"mt-2",message:o(e).errors.type},null,8,["message"])]),s("div",null,[a(n,{for:"currency",value:"Валюта"}),a(i,{id:"currency",type:"text",class:"mt-1 block w-full",modelValue:o(e).currency,"onUpdate:modelValue":t[2]||(t[2]=r=>o(e).currency=r),required:"",placeholder:"RUB",maxlength:"3"},null,8,["modelValue"]),a(c,{class:"mt-2",message:o(e).errors.currency},null,8,["message"])]),s("div",null,[a(n,{for:"balance",value:"Начальный баланс"}),a(i,{id:"balance",type:"number",step:"0.01",class:"mt-1 block w-full",modelValue:o(e).balance,"onUpdate:modelValue":t[3]||(t[3]=r=>o(e).balance=r),required:"",placeholder:"0.00"},null,8,["modelValue"]),a(c,{class:"mt-2",message:o(e).errors.balance},null,8,["message"])]),s("div",null,[a(n,{for:"color",value:"Цвет для отображения (необязательно)"}),m(s("input",{id:"color",type:"color",class:"mt-1 block w-full h-10 p-1 border border-gray-300 rounded-md shadow-sm cursor-pointer","onUpdate:modelValue":t[4]||(t[4]=r=>o(e).color=r)},null,512),[[w,o(e).color]]),a(c,{class:"mt-2",message:o(e).errors.color},null,8,["message"])]),s("div",P,[a(o(U),{href:u.cancelRoute,class:"text-sm text-gray-600 hover:text-gray-900 mr-4"},{default:p(()=>t[6]||(t[6]=[f(" Отмена ")])),_:1},8,["href"]),a(T,{class:k({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:p(()=>[f(h(u.submitButtonText),1)]),_:1},8,["class","disabled"])])])],32))}};export{M as _};
