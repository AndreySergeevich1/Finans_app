import{r as C,k as l,q as c,c as u,o as i,b as e,a as g,t as s,d as b,s as m,n as _}from"./app-B-v3dGX0.js";const D={class:"relative bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 flex items-center justify-between text-sm"},$={class:"flex items-center overflow-hidden mr-2"},I={class:"overflow-hidden"},N={class:"font-medium text-gray-800 dark:text-gray-200 truncate"},V={class:"text-xs text-gray-500 dark:text-gray-400"},B={key:0},S={class:"font-semibold text-gray-700 dark:text-gray-300 mt-1"},L={class:"text-xs text-gray-400"},j={class:"flex items-center"},z={__name:"DebtItem",props:{debt:{type:Object,required:!0}},setup(a){const o=a,n=C(!1),y=()=>n.value=!n.value,x=t=>{const r=Number(t)||0;return new Intl.NumberFormat("ru-RU",{style:"decimal",minimumFractionDigits:2}).format(r)},v=t=>t?new Date(t).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"",k=l(()=>({loan:"Кредит",microloan:"Микрокредит",debt_given:"Дал в долг",debt_taken:"Взял в долг"})[o.debt.type]||"Долг"),f=l(()=>({active:"Активен",paid:"Погашен",overdue:"Просрочен",extended:"Продлен"})[o.debt.status]||"Неизвестно"),h=l(()=>{switch(o.debt.status){case"active":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"paid":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"overdue":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"extended":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}});return(t,r)=>{const w=c("ScaleIcon"),p=c("DotsVerticalIcon");return i(),u("div",D,[e("div",$,[g(w,{class:"w-4 h-4 mr-2 text-orange-500 flex-shrink-0"}),e("div",I,[e("div",N,s(a.debt.lender_or_borrower),1),e("div",V,[b(s(k.value)+" ",1),a.debt.due_date?(i(),u("span",B,"| до "+s(v(a.debt.due_date)),1)):m("",!0)]),e("div",S,[b(s(x(a.debt.remaining_amount))+" ",1),e("span",L,s(a.debt.currency),1)])])]),e("div",j,[e("span",{class:_(["text-xs px-2 py-0.5 rounded font-medium mr-3",h.value])},s(f.value),3),e("button",{onClick:y,class:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full"},[g(p,{class:"w-5 h-5 text-gray-500 dark:text-gray-300"})]),n.value?(i(),u("div",{key:0,onMouseleave:r[3]||(r[3]=d=>n.value=!1),class:"absolute right-0 top-full mt-2 w-40 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10"},[e("ul",null,[e("li",null,[e("button",{onClick:r[0]||(r[0]=d=>t.$emit("edit-debt",a.debt)),class:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700"}," Редактировать ")]),e("li",null,[e("button",{onClick:r[1]||(r[1]=d=>t.$emit("repay-debt",a.debt)),class:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700"}," Внести платёж ")]),e("li",null,[e("button",{onClick:r[2]||(r[2]=d=>t.$emit("close-debt",a.debt)),class:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700"}," Закрыть долг ")])])],32)):m("",!0)])])}}};export{z as _};
