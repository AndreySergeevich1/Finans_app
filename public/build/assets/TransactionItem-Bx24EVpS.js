import{c as s,o as a,b as t,r as p,k as u,q as b,l as M,m as C,t as c,s as V,n as $,d as B,a as _}from"./app-B-v3dGX0.js";function j(r,o){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function D(r,o){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})])}function H(r,o){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})])}function N(r,o){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function I(r,o){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"})])}function A(r,o){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})])}function L(r,o){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 20.25h12m-7.5-3v3m3-3v3m-10.125-3h17.25c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125Z"})])}const Z={class:"relative flex items-center justify-between py-3 px-1 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-md transition-colors"},R={class:"flex items-center overflow-hidden mr-2"},U={class:"mr-3 flex-shrink-0 p-2 bg-gray-100 dark:bg-gray-700 rounded-full"},q={class:"overflow-hidden"},z={class:"font-medium text-gray-800 dark:text-gray-200 truncate text-sm sm:text-base"},F={class:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 truncate"},O={class:"flex items-center"},S={class:"text-xs text-gray-400"},E={__name:"TransactionItem",props:{transaction:{type:Object,required:!0}},setup(r){const o=r,l=p(!1),v=()=>l.value=!l.value,w=(e,n="RUB")=>{const i=Number(e)||0;return new Intl.NumberFormat("ru-RU",{style:"decimal",minimumFractionDigits:2}).format(i)},x=e=>e?new Date(e).toLocaleDateString("ru-RU",{day:"2-digit",month:"short"}):"",k=u(()=>{var n,i;const e=((i=(n=o.transaction.category)==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return o.transaction.type==="income"?D:e.includes("транспорт")?A:e.includes("продукт")||e.includes("еда")?N:e.includes("жкх")||e.includes("комм")?H:e.includes("развлечен")||e.includes("кино")?I:e.includes("интернет")||e.includes("связь")?L:j}),f=u(()=>o.transaction.type==="income"?"text-green-600 dark:text-green-400 font-semibold":"text-gray-700 dark:text-gray-300"),y=u(()=>o.transaction.type==="income"?"+":"-");return(e,n)=>{var m,h,g;const i=b("DotsVerticalIcon");return a(),s("div",Z,[t("div",R,[t("span",U,[(a(),M(C(k.value),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}))]),t("div",q,[t("div",z,c(r.transaction.description||((m=r.transaction.category)==null?void 0:m.name)||"Транзакция"),1),t("div",F,c((h=r.transaction.account)==null?void 0:h.name)+" · "+c(x(r.transaction.transaction_date)),1)])]),t("div",O,[t("div",{class:$(["text-right text-sm sm:text-base pl-2",f.value])},[B(c(y.value)+" "+c(w(r.transaction.amount))+" ",1),t("span",S,c((g=r.transaction.account)==null?void 0:g.currency),1)],2),t("button",{onClick:v,class:"ml-3 p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full"},[_(i,{class:"w-5 h-5 text-gray-500 dark:text-gray-300"})]),l.value?(a(),s("div",{key:0,onMouseleave:n[3]||(n[3]=d=>l.value=!1),class:"absolute right-0 top-full mt-2 w-40 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10"},[t("ul",null,[t("li",null,[t("button",{onClick:n[0]||(n[0]=d=>e.$emit("edit",r.transaction)),class:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700"},"Редактировать")]),t("li",null,[t("button",{onClick:n[1]||(n[1]=d=>e.$emit("delete",r.transaction)),class:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700"},"Удалить")]),t("li",null,[t("button",{onClick:n[2]||(n[2]=d=>e.$emit("hide",r.transaction)),class:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700"},"Скрыть")])])],32)):V("",!0)])])}}};export{E as _};
